<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../node_modules/mocha/mocha.css" />
  </head>
  <body>
    <div id="mocha"></div>
    <script src="../node_modules/mocha/mocha.js"></script>
    <script>
      mocha.ui('bdd');
      mocha.reporter('html');
    </script>
    <script src="browser.spec.js" onload="window.scriptDidLoad=true;void 0"></script>
    <script>
    console.log('run', 'scriptDidLoad' in window);
      mocha.run();
      window.setTimeout(function () {
        console.log('timeout', 'scriptDidLoad' in window);
        if (!('scriptDidLoad' in window)) {
          document.getElementById('mocha').innerHTML = '<h1>' + 
            'Woops, an error occured!</h1>' +
            '<p>' +
              'It seems like the browserified code cant be loaded.' +
            '</p>' +
            '<p>' +
              'Did you forget to execute either:<br />' +
              '<pre><code>$ npm run install-browser-test</code><br /></pre>' +
              'or <br/>' +
              '<pre><code>$ build-browser-test</code></pre>' +
            '</p>'
        }
      }, 100);
      console.log('scriptDidLoad', 'scriptDidLoad' in window);
    </script>
  </body>
</html>
